(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["quests"],{"1f4b":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-row",{attrs:{dense:""}},[s("v-col",[s("v-expansion-panels",{attrs:{accordion:"",hover:"",tile:""},model:{value:e.showOptions,callback:function(t){e.showOptions=t},expression:"showOptions"}},[s("v-expansion-panel",[s("v-expansion-panel-header",[e._v("Options")]),s("v-expansion-panel-content",[s("div",{staticClass:"header"},[e._v("Show additional info:")]),s("v-checkbox",{attrs:{dense:"",label:"Quest items"},model:{value:e.showItems,callback:function(t){e.showItems=t},expression:"showItems"}}),s("v-checkbox",{staticClass:"indent",attrs:{disabled:!e.showItems,dense:"",label:"when done"},model:{value:e.showItemsWhenDone,callback:function(t){e.showItemsWhenDone=t},expression:"showItemsWhenDone"}}),s("v-checkbox",{attrs:{dense:"",label:"Quest objectives"},model:{value:e.showObjectives,callback:function(t){e.showObjectives=t},expression:"showObjectives"}}),s("v-checkbox",{staticClass:"indent",attrs:{disabled:!e.showObjectives,dense:"",label:"when done"},model:{value:e.showObjectivesWhenDone,callback:function(t){e.showObjectivesWhenDone=t},expression:"showObjectivesWhenDone"}}),s("v-text-field",{attrs:{clearable:!0,label:"Highlight by name"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),s("v-row",[s("v-col",[e.dialogContent?s("v-dialog",{attrs:{"max-width":"500",persistent:"",scrollable:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.dialogContent.selected?s("v-card",{staticStyle:{height:"300px"}},[s("v-card-title",{staticClass:"headline"},[e._v(e._s(e.dialogContent.item.name))]),s("v-card-text",[s("v-card-subtitle",[e._v("Undo progress?")])],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogContent.yes}},[e._v("Ok")]),s("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.dialogContent.cancle}},[e._v("Cancel")])],1)],1):s("v-card",{staticStyle:{height:"400px"}},[s("v-card-title",[e._v(e._s(e.dialogContent.item.name))]),s("v-card-subtitle",[e._v("Remove the following items from stock?")]),s("v-divider"),s("v-card-text",e._l(e.dialogContent.requiredItems,(function(t,o){return s("v-row",{key:o.id},[e._l(t.raid&&t.raid.amount?t.raid.amount:0,(function(n){return s("ItemBox",{key:o.id+"r"+n,attrs:{item:o,value:t,raid:!0,checked:!!e.$store.state.stocked[t.item.id]&&n<=e.$store.state.stocked[t.item.id].raid,quests:t.raid.quests,hideout:t.raid.hideout},on:{itemToggled:e.itemToggled}})})),e._l(t.nonraid&&t.nonraid.amount?t.nonraid.amount:0,(function(n){return s("ItemBox",{key:o.id+"n"+n,attrs:{item:o,value:t,raid:!1,checked:!!e.$store.state.stocked[t.item.id]&&n<=e.$store.state.stocked[t.item.id].nonraid,quests:t.nonraid.quests,hideout:t.nonraid.hideout},on:{itemToggled:e.itemToggled}})}))],2)})),1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.dialogContent.yes(!0)}}},[e._v("Yes")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.dialogContent.yes(!1)}}},[e._v("No")]),s("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.dialogContent.cancle}},[e._v("Cancel")])],1)],1)],1):e._e(),s("v-treeview",{staticClass:"trp-light",attrs:{"selected-color":"#9a8866",dense:"",items:e.quests,"selection-type":"independent","open-all":"",hoverable:"",transition:"",selectable:""},scopedSlots:e._u([{key:"label",fn:function(t){var o=t.item,n=t.selected;return[s("v-card",{attrs:{outlined:""}},[s("h4",{class:{"primary--text":e.search&&o.name.toLowerCase().includes(e.search.toLowerCase())}},[e._v(e._s(o.name)+" ("+e._s(o.from)+")")]),n&&!e.showObjectivesWhenDone||!e.showObjectives?e._e():s("ul",{staticClass:"tiny"},e._l(o.objectives,(function(t){return s("li",{key:t.id},[e._v(e._s(t.name))])})),0),n&&!e.showItemsWhenDone||!e.showItems?e._e():e._l(e.staticData.getRequiredItemsForQuests([o.id]),(function(t,n){return s("div",{key:n.id},[e._l(t.raid&&t.raid.amount?t.raid.amount:0,(function(i){return s("ItemBox",{key:o.id+"r"+i,attrs:{item:n,value:t,raid:!0,checked:!!e.$store.state.stocked[t.item.id]&&i<=e.$store.state.stocked[t.item.id].raid,quests:t.raid.quests,hideout:t.raid.hideout},on:{itemToggled:e.itemToggled}})})),e._l(t.nonraid&&t.nonraid.amount?t.nonraid.amount:0,(function(o){return s("ItemBox",{key:n.id+"n"+o,attrs:{item:n,value:t,raid:!1,checked:!!e.$store.state.stocked[t.item.id]&&o<=e.$store.state.stocked[t.item.id].nonraid,quests:t.nonraid.quests,hideout:t.nonraid.hideout},on:{itemToggled:e.itemToggled}})}))],2)}))],2)]}}]),model:{value:e.doneQuests,callback:function(t){e.doneQuests=t},expression:"doneQuests"}})],1)],1)],1)},n=[],i=(s("4de4"),s("c975"),s("a434"),s("b64b"),s("3eaa")),a={name:"Quests",components:{ItemBox:i["a"]},data:function(){return{showOptions:0,quests:[],doneQuests:[],dialog:!1,dialogContent:null,showItems:!1,showItemsWhenDone:!1,showObjectives:!1,showObjectivesWhenDone:!1,stocked:{},ignore:!1,search:""}},computed:{},watch:{doneQuests:function(e,t){var s=t.filter((function(t){return-1===e.indexOf(t)})),o=e.filter((function(e){return-1===t.indexOf(e)}));console.log(s,o),this.dialog&&!this.ignore||(s&&s.length>0?this.toggle(this.staticData.getQuest(s[0]),!0):o&&o.length>0&&this.toggle(this.staticData.getQuest(o[0]),!1))},stocked:{handler:function(e){this.$store.commit("setStocked",e)},deep:!0},showOptions:function(e){this.$store.commit("setShowOptionsQuests",e)}},created:function(){this.ignore=!0,this.quests=this.staticData.getStarterQuests(),this.doneQuests=this.$store.state.doneQuests,this.stocked=this.$store.state.stocked,this.showOptions=this.$store.state.showOptionsQuests,this.ignore=!1},methods:{fake:function(){console.log("push"),this.doneQuests.push("decontamination_service"),this.doneQuests.push("car_repair")},itemToggled:function(e){e.item&&(this.stocked[e.item]||this.$set(this.stocked,e.item,{raid:0,nonraid:0}),e.raid?this.$set(this.stocked[e.item],"raid",this.stocked[e.item].raid+(e.checked?-1:1)):this.$set(this.stocked[e.item],"nonraid",this.stocked[e.item].nonraid+(e.checked?-1:1)))},toggle:function(e,t){var s=this,o=this.staticData.getRequiredItemsForQuests([e.id]);this.dialogContent={vm:this,selected:t,item:e,requiredItems:o,cancle:function(){if(t)s.doneQuests.push(e.id);else{var o=s.doneQuests.indexOf(e.id);-1!==o&&s.doneQuests.splice(o,1)}s.dialog=!1}},this.dialogContent.yes=t?function(){s.dialog=!1;var t=s.doneQuests.indexOf(e.id);-1!==t&&s.doneQuests.splice(t,1),s.$store.commit("setDoneQuests",s.doneQuests)}:function(t){t&&s.$store.commit("removeItemsFromStock",o),s.dialog=!1,-1===s.doneQuests.indexOf(e.id)&&s.doneQuests.push(e.id),s.$store.commit("setDoneQuests",s.doneQuests)},0==Object.keys(s.$store.state.stocked).filter((function(e){return s.$store.state.stocked[e].raid?s.$store.state.stocked[e].raid:0+s.$store.state.stocked[e].nonraid?s.$store.state.stocked[e].nonraid:0})).length||0==Object.keys(o).length?this.dialogContent.yes():this.dialog=!0}}},d=a,r=(s("fbc4"),s("2877")),c=s("6544"),l=s.n(c),u=s("8336"),h=s("b0af"),m=s("99d9"),v=s("ac7c"),g=s("62ad"),k=s("a523"),b=s("169a"),f=s("ce7e"),p=s("cd55"),w=s("49e2"),x=s("c865"),C=s("0393"),_=s("0fd9"),Q=s("2fa4"),O=s("8654"),$=s("eb2a"),y=Object(r["a"])(d,o,n,!1,null,null,null);t["default"]=y.exports;l()(y,{VBtn:u["a"],VCard:h["a"],VCardActions:m["a"],VCardSubtitle:m["b"],VCardText:m["c"],VCardTitle:m["d"],VCheckbox:v["a"],VCol:g["a"],VContainer:k["a"],VDialog:b["a"],VDivider:f["a"],VExpansionPanel:p["a"],VExpansionPanelContent:w["a"],VExpansionPanelHeader:x["a"],VExpansionPanels:C["a"],VRow:_["a"],VSpacer:Q["a"],VTextField:O["a"],VTreeview:$["a"]})},"52a1":function(e,t,s){},fbc4:function(e,t,s){"use strict";var o=s("52a1"),n=s.n(o);n.a}}]);
//# sourceMappingURL=quests.a66c1c8c.js.map