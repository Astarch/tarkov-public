(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hideout"],{"0cd8":function(e,t,o){},"44d7":function(e,t,o){"use strict";var i=o("0cd8"),n=o.n(i);n.a},a91e:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("v-row",{attrs:{dense:""}},[o("v-col",[o("v-expansion-panels",{attrs:{accordion:"",hover:"",tile:""},model:{value:e.showOptions,callback:function(t){e.showOptions=t},expression:"showOptions"}},[o("v-expansion-panel",[o("v-expansion-panel-header",[e._v("Options")]),o("v-expansion-panel-content",[o("div",{staticClass:"header"},[e._v("Show additional info:")]),o("v-checkbox",{attrs:{dense:"",label:"Hideout items"},model:{value:e.showItems,callback:function(t){e.showItems=t},expression:"showItems"}}),o("v-checkbox",{staticClass:"indent",attrs:{disabled:!e.showItems,dense:"",label:"when done"},model:{value:e.showItemsWhenDone,callback:function(t){e.showItemsWhenDone=t},expression:"showItemsWhenDone"}}),o("v-checkbox",{attrs:{dense:"",label:"Hideout requirements"},model:{value:e.showRequirements,callback:function(t){e.showRequirements=t},expression:"showRequirements"}}),o("v-checkbox",{staticClass:"indent",attrs:{disabled:!e.showRequirements,dense:"",label:"when done"},model:{value:e.showRequirementsWhenDone,callback:function(t){e.showRequirementsWhenDone=t},expression:"showRequirementsWhenDone"}})],1)],1)],1)],1)],1),o("v-row",[o("v-col",[e.dialogContent?o("v-dialog",{attrs:{"max-width":"500",persistent:"",scrollable:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.dialogContent.selected?o("v-card",{staticStyle:{height:"300px"}},[o("v-card-title",{staticClass:"headline"},[e._v(e._s(e.dialogContent.item.name))]),o("v-card-text",[o("v-card-subtitle",[e._v("Undo progress?")])],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.dialogContent.yes}},[e._v("Ok")]),o("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.dialogContent.cancle}},[e._v("Cancel")])],1)],1):o("v-card",{staticStyle:{height:"400px"}},[o("v-card-title",[e._v(e._s(e.dialogContent.item.name))]),o("v-card-subtitle",[e._v("Remove the following items from stock?")]),o("v-divider"),o("v-card-text",e._l(e.dialogContent.requiredItems,(function(t,i){return o("v-row",{key:i.id},[e._l(t.raid&&t.raid.amount?t.raid.amount:0,(function(n){return o("ItemBox",{key:i.id+"r"+n,attrs:{item:i,value:t,raid:!0,checked:!!e.$store.state.stocked[t.item.id]&&n<=e.$store.state.stocked[t.item.id].raid,quests:t.raid.quests,hideout:t.raid.hideout},on:{itemToggled:e.itemToggled}})})),e._l(t.nonraid&&t.nonraid.amount?t.nonraid.amount:0,(function(n){return o("ItemBox",{key:i.id+"n"+n,attrs:{item:i,value:t,raid:!1,checked:!!e.$store.state.stocked[t.item.id]&&n<=e.$store.state.stocked[t.item.id].nonraid,quests:t.nonraid.quests,hideout:t.nonraid.hideout},on:{itemToggled:e.itemToggled}})}))],2)})),1),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.dialogContent.yes(!0)}}},[e._v("Yes")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.dialogContent.yes(!1)}}},[e._v("No")]),o("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.dialogContent.cancle}},[e._v("Cancel")])],1)],1)],1):e._e(),o("v-treeview",{staticClass:"trp-light",attrs:{"selected-color":"#9a8866",dense:"",color:"#f00",items:e.hideout,"selection-type":"independent","open-all":"",hoverable:"",transition:"",selectable:""},scopedSlots:e._u([{key:"label",fn:function(t){var i=t.item,n=t.selected;return[o("v-card",{attrs:{outlined:""}},[o("h4",[e._v(e._s(i.name))]),n&&!e.showRequirementsWhenDone||!e.showRequirements?e._e():o("ul",{staticClass:"tiny"},[e._l(i.skills,(function(t){return o("li",{key:i.id+t.id},[e._v(e._s(t.id)+": "+e._s(t.level))])})),e._l(i.loyalty,(function(t){return o("li",{key:i.id+t.trader},[e._v(e._s(t.trader)+": "+e._s(t.level))])})),e._l(i.money?Object.keys(i.money):[],(function(t){return o("li",{key:i.id+t},[e._v(e._s(t)+": "+e._s(i.money[t]))])}))],2),n&&!e.showItemsWhenDone||!e.showItems?e._e():e._l(e.staticData.getRequiredItemsForHideout([i.id]),(function(t,n){return o("div",{key:n.id},[e._l(t.raid&&t.raid.amount?t.raid.amount:0,(function(s){return o("ItemBox",{key:i.id+"r"+s,attrs:{item:n,value:t,raid:!0,checked:!!e.$store.state.stocked[t.item.id]&&s<=e.$store.state.stocked[t.item.id].raid,quests:t.raid.quests,hideout:t.raid.hideout},on:{itemToggled:e.itemToggled}})})),e._l(t.nonraid&&t.nonraid.amount?t.nonraid.amount:0,(function(i){return o("ItemBox",{key:n.id+"n"+i,attrs:{item:n,value:t,raid:!1,checked:!!e.$store.state.stocked[t.item.id]&&i<=e.$store.state.stocked[t.item.id].nonraid,quests:t.nonraid.quests,hideout:t.nonraid.hideout},on:{itemToggled:e.itemToggled}})}))],2)}))],2)]}}]),model:{value:e.doneHideout,callback:function(t){e.doneHideout=t},expression:"doneHideout"}})],1)],1)],1)},n=[],s=(o("4de4"),o("c975"),o("a434"),o("b64b"),o("3eaa")),a={name:"Hideout",components:{ItemBox:s["a"]},data:function(){return{showOptions:0,hideout:[],doneHideout:[],dialog:!1,dialogContent:null,showItems:!1,showItemsWhenDone:!1,showRequirements:!1,showRequirementsWhenDone:!1,stocked:{}}},watch:{doneHideout:function(e,t){var o=t.filter((function(t){return-1===e.indexOf(t)})),i=e.filter((function(e){return-1===t.indexOf(e)}));console.log(o,i),this.dialog||(o&&o.length>0?this.toggle(this.staticData.getHideout(o[0]),!0):i&&i.length>0&&this.toggle(this.staticData.getHideout(i[0]),!1))},stocked:{handler:function(e){this.$store.commit("setStocked",e)},deep:!0},showOptions:function(e){this.$store.commit("setShowOptionsHideout",e)}},created:function(){this.dialog=!0,this.hideout=this.staticData.getStarterHideout(),this.doneHideout=this.$store.state.doneHideout,this.stocked=this.$store.state.stocked,this.showOptions=this.$store.state.showOptionsHideout,this.dialog=!1},methods:{itemToggled:function(e){e.item&&(this.stocked[e.item]||this.$set(this.stocked,e.item,{raid:0,nonraid:0}),e.raid?this.$set(this.stocked[e.item],"raid",this.stocked[e.item].raid+(e.checked?-1:1)):this.$set(this.stocked[e.item],"nonraid",this.stocked[e.item].nonraid+(e.checked?-1:1)))},toggle:function(e,t){var o=this,i=this.staticData.getRequiredItemsForHideout([e.id]);this.dialogContent={vm:this,selected:t,item:e,requiredItems:i,cancle:function(){if(t)console.log("readd",e),o.doneHideout.push(e.id);else{console.log("remove",e);var i=o.doneHideout.indexOf(e.id);-1!==i&&o.doneHideout.splice(i,1)}o.dialog=!1}},this.dialogContent.yes=t?function(){o.dialog=!1;var t=o.doneHideout.indexOf(e.id);-1!==t&&o.doneHideout.splice(t,1),o.$store.commit("setDoneHideout",o.doneHideout)}:function(t){t&&o.$store.commit("removeItemsFromStock",i),o.dialog=!1,-1===o.doneHideout.indexOf(e.id)&&o.doneHideout.push(e.id),o.$store.commit("setDoneHideout",o.doneHideout)},0==Object.keys(o.$store.state.stocked).filter((function(e){return o.$store.state.stocked[e].raid?o.$store.state.stocked[e].raid:0+o.$store.state.stocked[e].nonraid?o.$store.state.stocked[e].nonraid:0})).length||0==Object.keys(i).length?(console.log("requiredItems",i),this.dialogContent.yes()):this.dialog=!0}}},d=a,r=(o("44d7"),o("2877")),l=o("6544"),c=o.n(l),u=o("8336"),h=o("b0af"),m=o("99d9"),v=o("ac7c"),k=o("62ad"),g=o("a523"),f=o("169a"),p=o("ce7e"),w=o("cd55"),b=o("49e2"),x=o("c865"),_=o("0393"),C=o("0fd9"),H=o("2fa4"),y=o("eb2a"),q=Object(r["a"])(d,i,n,!1,null,null,null);t["default"]=q.exports;c()(q,{VBtn:u["a"],VCard:h["a"],VCardActions:m["a"],VCardSubtitle:m["b"],VCardText:m["c"],VCardTitle:m["d"],VCheckbox:v["a"],VCol:k["a"],VContainer:g["a"],VDialog:f["a"],VDivider:p["a"],VExpansionPanel:w["a"],VExpansionPanelContent:b["a"],VExpansionPanelHeader:x["a"],VExpansionPanels:_["a"],VRow:C["a"],VSpacer:H["a"],VTreeview:y["a"]})}}]);
//# sourceMappingURL=hideout.d370d5ea.js.map